(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[746],{3183:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var i=r(5155),n=r(9839),l=r(9167),s=r(432),a=r(6715),c=r(2115);let o=(0,n.A)({breakpoints:{values:{xs:0,sm:768,md:900,lg:1200,xl:1536}}});function d(e){let{children:t}=e,[r]=(0,c.useState)(()=>new s.E);return(0,i.jsx)(a.Ht,{client:r,children:(0,i.jsx)(l.A,{theme:o,children:t})})}},3320:(e,t,r)=>{Promise.resolve().then(r.bind(r,6894))},6894:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var i=r(5155),n=r(2115),l=r(4581),s=r(4955),a=r(7052),c=r(1468),o=r(1769),d=r(3464);let x=async e=>{try{let{data:t}=await d.A.get("https://node-test-server-production.up.railway.app/api/cards",{signal:e});return t.cards}catch(e){throw e}};r(3183);let h=()=>(0,o.I)({queryKey:["cards"],queryFn:async e=>{let{signal:t}=e;return await x(t)},staleTime:3e5,refetchOnWindowFocus:!1,retry:!1});var u=r(8407);let j=e=>{let{card:t}=e;return(0,i.jsxs)(u.A,{elevation:3,sx:{width:200,height:200,padding:2,display:"flex",flexDirection:"column",marginX:"auto"},children:[(0,i.jsx)(s.A,{variant:"h6",noWrap:!0,children:t.title||"Без заголовка"}),(0,i.jsx)(s.A,{variant:"body2",sx:{flexGrow:1},noWrap:!0,children:t.text})]})};var p=r(7775);let m=()=>(0,i.jsxs)(l.A,{sx:{width:200,height:200,display:"flex",flexDirection:"column",padding:2},children:[(0,i.jsx)(p.A,{width:"80%"}),(0,i.jsx)(p.A,{width:"100%",height:"60%",sx:{marginTop:1}})]}),f=()=>(0,i.jsx)(l.A,{component:"footer",sx:{width:"100%",textAlign:"center",padding:2,backgroundColor:"primary.main",marginTop:"auto"},children:(0,i.jsx)(s.A,{variant:"body2",color:"white",children:"\xa9 2025 Test Project"})});var A=r(1169),g=r(529);let v=e=>{let{onRefresh:t,isFetching:r}=e,[l,c]=(0,n.useState)(r);return(0,n.useEffect)(()=>{let e;return l&&(e=setTimeout(()=>c(!1),3e3)),()=>clearTimeout(e)},[l]),(0,i.jsx)(A.A,{position:"fixed",children:(0,i.jsxs)(g.A,{children:[(0,i.jsx)(s.A,{variant:"h6",sx:{flexGrow:1},children:"Карточки"}),(0,i.jsx)(a.A,{color:"inherit",onClick:()=>{t(),c(!0)},disabled:l,children:l?"Загружается...":"Обновить"})]})})},y={id:"placeholder",title:"Заглушка",text:"Это заглушка карточки"},w=()=>{let{data:e,isError:t,refetch:r,isFetching:o}=h(),d=()=>{r()},x=(0,n.useMemo)(()=>{let t=[...e||[]];for(t=t.sort((e,t)=>{var r,i;return!e.title&&t.title?1:e.title&&!t.title||e.title<t.title?-1:e.title>t.title?1:((null==(r=e.text)?void 0:r.length)||0)-((null==(i=t.text)?void 0:i.length)||0)}).slice(0,7);t.length<7;)t.push(y);return t},[e]);return t?(0,i.jsxs)(l.A,{sx:{textAlign:"center"},children:[(0,i.jsx)(s.A,{variant:"h6",color:"error",children:"Ошибка загрузки"}),(0,i.jsx)(a.A,{onClick:d,children:"Повторить"})]}):(0,i.jsxs)(l.A,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[(0,i.jsx)(v,{onRefresh:d,isFetching:o}),(0,i.jsx)(l.A,{sx:{flexGrow:1,display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",margin:10},children:o?(0,i.jsx)(c.A,{container:!0,spacing:2,children:Array.from({length:7}).map((e,t)=>(0,i.jsx)(c.A,{size:{xs:12,sm:6,md:4,lg:3},justifyContent:"center",children:(0,i.jsx)(m,{})},t))}):(0,i.jsx)(c.A,{container:!0,spacing:2,children:x.map((e,t)=>(0,i.jsx)(c.A,{size:{xs:12,sm:6,md:4,lg:3},justifyContent:"center",children:e?(0,i.jsx)(j,{card:e}):(0,i.jsx)(m,{})},t))})}),(0,i.jsx)(f,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[498,706,441,684,358],()=>t(3320)),_N_E=e.O()}]);